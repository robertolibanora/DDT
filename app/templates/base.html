<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}DDT Processor{% endblock %} - Tema Mare</title>
    <link rel="stylesheet" href="/static/css/main.css">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <header>
        <h1>{% block header_title %}üì¶ DDT Processor{% endblock %}</h1>
        <nav>
            <a href="/" id="nav-dashboard">üìä Dashboard</a>
            <a href="/upload" id="nav-upload">üì§ Carica</a>
            <a href="/rules" id="nav-rules">‚öôÔ∏è Regole</a>
        </nav>
        {% block header_extra %}{% endblock %}
    </header>

    {% block messages %}{% endblock %}

    {% block content %}{% endblock %}

    <footer>
        <p>DDT Processor - Sistema di gestione Documenti di Trasporto</p>
    </footer>

    {% block scripts %}{% endblock %}
    <script>
        // Evidenzia il link di navigazione attivo
        (function() {
            const path = window.location.pathname;
            const navUpload = document.getElementById('nav-upload');
            const navDashboard = document.getElementById('nav-dashboard');
            
            const navRules = document.getElementById('nav-rules');
            
            if (path === '/' || path === '/dashboard') {
                if (navDashboard) navDashboard.classList.add('active');
            } else if (path === '/upload') {
                if (navUpload) navUpload.classList.add('active');
            } else if (path === '/rules') {
                if (navRules) navRules.classList.add('active');
            }
        })();
    </script>
</body>
</html>

